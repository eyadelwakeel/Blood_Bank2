<?php

namespace Database\Seeders;

use Illuminate\Database\Seeder;
use App\models\Citiy;
use App\models\Governorate;

class CitySeeder extends Seeder
{
    /**
     * Run the database seeds.
     */
    public function run(): void
    {
        // الحصول على المحافظات
        $governorates = Governorate::all()->keyBy('name');

        $cities = [
            'القاهرة' => ['مدينة نصر', 'المعادي', 'الزمالك', 'مصر الجديدة', 'شبرا', 'العباسية', 'المنيل'],
            'الجيزة' => ['الدقي', 'المهندسين', 'العجوزة', 'الهرم', '6 أكتوبر', 'الشيخ زايد', 'إمبابة'],
            'الإسكندرية' => ['سيدي بشر', 'سموحة', 'المنتزه', 'العجمي', 'المنشية', 'الرمل', 'كليوباترا'],
            'الدقهلية' => ['المنصورة', 'بلقاس', 'ميت غمر', 'أجا', 'دكرنس', 'منية النصر', 'السنبلاوين'],
            'البحر الأحمر' => ['الغردقة', 'رأس غارب', 'سفاجا', 'مرسى علم'],
            'البحيرة' => ['دمنهور', 'كفر الدوار', 'رشيد', 'إدكو', 'أبو المطامير', 'حوش عيسى'],
            'الفيوم' => ['الفيوم', 'طامية', 'سنورس', 'إطسا', 'يوسف الصديق'],
            'الغربية' => ['طنطا', 'المحلة الكبرى', 'زفتى', 'كفر الزيات', 'بسيون', 'سمنود'],
            'الإسماعيلية' => ['الإسماعيلية', 'القنطرة شرق', 'القنطرة غرب', 'فايد', 'أبو صوير'],
            'المنوفية' => ['شبين الكوم', 'منوف', 'أشمون', 'الباجور', 'قويسنا', 'بركة السبع'],
            'المنيا' => ['المنيا', 'ملوي', 'أبو قرقاص', 'مغاغة', 'بني مزار', 'دير مواس'],
            'القليوبية' => ['بنها', 'قليوب', 'شبرا الخيمة', 'الخانكة', 'كفر شكر', 'طوخ'],
            'الوادي الجديد' => ['الخارجة', 'الداخلة', 'باريس', 'بلاط', 'موط'],
            'السويس' => ['السويس', 'الأربعين', 'فيصل', 'عتاقة'],
            'أسوان' => ['أسوان', 'كوم أمبو', 'دراو', 'إدفو', 'نصر النوبة'],
            'أسيوط' => ['أسيوط', 'أبوتيج', 'ديروط', 'منفلوط', 'القوصية', 'أبنوب'],
            'بني سويف' => ['بني سويف', 'الواسطي', 'ناصر', 'إهناسيا', 'ببا', 'سمسطا'],
            'بورسعيد' => ['بورسعيد', 'بورفؤاد', 'الضاحية'],
            'دمياط' => ['دمياط', 'فارسكور', 'الزرقا', 'كفر البطيخ', 'رأس البر'],
            'كفر الشيخ' => ['كفر الشيخ', 'دسوق', 'فوه', 'بلطيم', 'الحامول', 'سيدي سالم'],
            'مطروح' => ['مرسى مطروح', 'الحمام', 'السلوم', 'سيوة', 'النجيلة'],
            'الأقصر' => ['الأقصر', 'إسنا', 'الطود', 'البياضية'],
            'قنا' => ['قنا', 'نجع حمادي', 'دشنا', 'قفط', 'أبو تشت', 'فرشوط'],
            'شمال سيناء' => ['العريش', 'الشيخ زويد', 'رفح', 'بئر العبد'],
            'جنوب سيناء' => ['الطور', 'شرم الشيخ', 'دهب', 'نويبع', 'طابا', 'رأس سدر'],
            'سوهاج' => ['سوهاج', 'أخميم', 'البلينا', 'جرجا', 'طهطا', 'المنشأة'],
        ];

        foreach ($cities as $governorateName => $cityNames) {
            $governorate = $governorates->get($governorateName);

            if ($governorate) {
                foreach ($cityNames as $cityName) {
                    Citiy::create([
                        'name' => $cityName,
                        'governorate_id' => $governorate->id,
                    ]);
                }
            }
        }
    }
}

